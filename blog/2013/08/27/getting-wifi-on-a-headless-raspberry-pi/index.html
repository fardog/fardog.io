<!doctype html><html lang=en-us><head><title>Getting WiFi on a Headless Raspberry Pi | fardog.io</title>
<meta name=generator content="Hugo 0.128.0"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="dark light"><meta name=author content="Nathan Wittstock"><meta name=description content="One of the final steps in a to-be-announced project involved getting a headless Raspberry Pi up on WiFi at boot time—which turned out to be a little more challenging that first expected. Not because it was particularly difficult, but because the documentation was poor.
Below are my full configuration files that were required. The WiFi USB dongle itself was an Adafruit USB WiFi with Antenna which is actually a B-LINK BBL-LW05-AR5; notable becuase of its sizeable antenna, and for working with the latest Raspbian Wheezy distribution."><meta name=referrer content="no-referrer"><link rel=canonical href=https://fardog.io/blog/2013/08/27/getting-wifi-on-a-headless-raspberry-pi/><link rel="shortcut icon" type=image/vnd.microsoft.icon href=/favicon.ico><link rel=stylesheet href=/main.min.9637009c6b01416517e2b0e76a0530c7038e1c72499cd53ae621955c3631a6f5a07d4c5b7de66c4c27dfa27d92de278cc57ac5e5994409027ddc733b09dec622.css integrity="sha512-ljcAnGsBQWUX4rDnagUwxwOOHHJJnNU65iGVXDYxpvWgfUxbfeZsTCffon2S3ieMxXrF5ZlECQJ93HM7Cd7GIg=="><meta itemprop=name content="Getting WiFi on a Headless Raspberry Pi"><meta itemprop=description content="One of the final steps in a to-be-announced project involved getting a headless Raspberry Pi up on WiFi at boot time—which turned out to be a little more challenging that first expected. Not because it was particularly difficult, but because the documentation was poor.
Below are my full configuration files that were required. The WiFi USB dongle itself was an Adafruit USB WiFi with Antenna which is actually a B-LINK BBL-LW05-AR5; notable becuase of its sizeable antenna, and for working with the latest Raspbian Wheezy distribution."><meta itemprop=datePublished content="2013-08-27T11:38:00-07:00"><meta itemprop=dateModified content="2013-08-27T11:38:00-07:00"><meta itemprop=wordCount content="431"><meta itemprop=keywords content="Linux,Raspberry Pi"><meta property="og:url" content="https://fardog.io/blog/2013/08/27/getting-wifi-on-a-headless-raspberry-pi/"><meta property="og:site_name" content="fardog.io"><meta property="og:title" content="Getting WiFi on a Headless Raspberry Pi"><meta property="og:description" content="One of the final steps in a to-be-announced project involved getting a headless Raspberry Pi up on WiFi at boot time—which turned out to be a little more challenging that first expected. Not because it was particularly difficult, but because the documentation was poor.
Below are my full configuration files that were required. The WiFi USB dongle itself was an Adafruit USB WiFi with Antenna which is actually a B-LINK BBL-LW05-AR5; notable becuase of its sizeable antenna, and for working with the latest Raspbian Wheezy distribution."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2013-08-27T11:38:00-07:00"><meta property="article:modified_time" content="2013-08-27T11:38:00-07:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Getting WiFi on a Headless Raspberry Pi"><meta name=twitter:description content="One of the final steps in a to-be-announced project involved getting a headless Raspberry Pi up on WiFi at boot time—which turned out to be a little more challenging that first expected. Not because it was particularly difficult, but because the documentation was poor.
Below are my full configuration files that were required. The WiFi USB dongle itself was an Adafruit USB WiFi with Antenna which is actually a B-LINK BBL-LW05-AR5; notable becuase of its sizeable antenna, and for working with the latest Raspbian Wheezy distribution."></head><body><header><nav><a title="Return to Blog" href=/blog/>&larr; Blog</a></nav><h1>Getting WiFi on a Headless Raspberry Pi</h1></header><main><p>One of the final steps in a to-be-announced project involved getting a headless <a href=http://www.raspberrypi.org/>Raspberry Pi</a> up on WiFi at boot time—which turned out to be a little more challenging that first expected. Not because it was particularly difficult, but because the documentation was poor.</p><p>Below are my full configuration files that were required. The WiFi USB dongle itself was an <a href=https://www.adafruit.com/products/1030>Adafruit USB WiFi with Antenna</a> which is actually a B-LINK BBL-LW05-AR5; notable becuase of its sizeable antenna, and for working with the latest Raspbian Wheezy distribution.</p><p>Prior to getting started, make sure your Raspbian is up to date by issuing:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get update
</span></span><span class=line><span class=cl>sudo apt-get upgrade
</span></span></code></pre></div><p>At that point, reboot and connect your WiFi module to USB. Then, edit your config. It&rsquo;s worth noting that I have an interface <code>eth0</code> which is set to DHCP, and my <code>wlan0</code> interface which has a static IP. This allows me to use ethernet as a failsafe if something goes wrong.</p><p>First, in the file <code>/etc/network/interfaces</code>:</p><pre tabindex=0><code>auto lo

iface lo inet loopback
iface eth0 inet dhcp

allow-hotplug wlan0
iface wlan0 inet manual
wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf

iface YOUR_WIFI_ID inet static
address 192.168.1.5
netmask 255.255.255.0
gateway 192.168.1.1

# iface default inet dhcp
</code></pre><p>This is setting up your ethernet to dhcp, your wifi to manual, sourcing the <code>wpa_supplicant.conf</code> file, and then assigning your named Wireless connection to a static IP. Note that <em>YOUR_WIFI_ID</em> above should be an identifier you make up yourself. For example, mine is <em>NORTH_WPA</em>.</p><p>Now, configure the network information in <code>/etc/wpa_supplicant/wpa_supplicant.conf</code>:</p><pre tabindex=0><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
# update_config=1
network={
	ssid=&#34;Your SSID Name&#34;
	proto=RSN
	key_mgmt=WPA-PSK
	pairwise=CCMP TKIP
	group=CCMP TKIP
	psk=&#34;Your WPA Password&#34;
	id_str=&#34;YOUR_WIFI_ID&#34;
}
</code></pre><p>Again, note that <em>YOUR_WIFI_ID</em> is present.</p><p>At that point, reboot. Assuming you&rsquo;ve got all your information correct (and that your key management and etc. match mine) you&rsquo;ll be connected automatically at boot!</p><p>Much of the information in this post was gleaned from <a href=http://pingbin.com/2012/12/setup-wifi-raspberry-pi/>this thread</a>. The original poster&rsquo;s information didn&rsquo;t work for me, but I was able to assemble a working config from various commenters&rsquo; information.</p><h4 id=update-2014-01-06>UPDATE 2014-01-06</h4><p>When I switched from the older-style Airport Extreme base stations to the new &ldquo;tower&rdquo;-shaped base stations, I was having issues with the WiFi disconnected and then not reconnecting without a reboot. To resolve this, I followed one of the answers in <a href=http://raspberrypi.stackexchange.com/questions/4120/how-to-automatically-reconnect-wifi>this stack exchange post</a>, reproduced below for convenience. This is originally from the user <a href=http://raspberrypi.stackexchange.com/users/6365/andaluz>AndaluZ</a>:</p><blockquote><p>Well, there is a very simple solution:</p><ol><li>Go to <code>/etc/ifplugd/action.d/</code> and rename the <code>ifupdown</code> file to <code>ifupdown.original</code></li><li>Then do: <code>cp /etc/wpa_supplicant/ifupdown.sh ./ifupdown</code></li><li>Finally: <code>sudo reboot</code></li></ol><p>That&rsquo;s all. Test this by turning off/on your AP; you should see that your Raspberry Pi properly reconnects.</p></blockquote></main><footer role=contentinfo>© 2024 Nathan Wittstock
—
Content: <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a>,
Code: <a href=https://github.com/fardog/fardog.io/blob/master/LICENSE target=_blank>MIT</a>, unless otherwise noted.<p class="f6 fw6 pv0 mv2">View the
<a href=https://github.com/fardog/fardog.io/ target=_blank>source</a>
for this site.
<a href=https://fardog.io/privacy/>Privacy</a>.</p></footer></body></html>